{
  "$schema": "https://vega.github.io/schema/vega/v6.json",
  "background": "white",
  "width": 500,
  "height": 500,
  "padding": 5,
  "title": {
    "text": "Ticket Prices Vs Stadium Capacity",
    "subtitle": "Football as an accessible cultural experience",
    "fontSize": 20,
    "subtitleFontSize": 14,
    "subtitleColor": "gray"
  },
  "data": [
    {
      "name": "source",
      "url": "https://raw.githubusercontent.com/StuvanFIT/Data-science/main/VegaLite/data/stadium_ticket_prices.csv",
      "format": {"type": "csv"}
    }
  ],
  "scales": [
    {"name": "x", "type": "linear", "domain": {"data": "source", "field": "capacity"}, "range": "width", "nice": true, "zero": true},
    {"name": "y", "type": "linear", "domain": {"data": "source", "field": "avg_ticket_price_usd"}, "range": "height", "nice": true, "zero": true},
    {"name": "color", "type": "ordinal", "domain": {"data": "source", "field": "continent"}, "range": "category"}
  ],
  "axes": [
    {"scale": "x", "orient": "bottom", "title": "Stadium Capacity", "grid": true},
    {"scale": "y", "orient": "left", "title": "Average Ticket Price (USD)", "grid": true}
  ],
  "legends": [
    {"fill": "color", "title": "Continent", "symbolType": "circle"}
  ],
  "marks": [
    {
      "type": "symbol",
      "from": {"data": "source"},
      "encode": {
        "update": {
          "x": {"scale": "x", "field": "capacity"},
          "y": {"scale": "y", "field": "avg_ticket_price_usd"},
          "fill": {"scale": "color", "field": "continent"},
          "size": {"value": 250},
          "opacity": {"value": 0.7},
          "stroke": {"value": "white"},
          "tooltip": {"signal": "{'Stadium': datum.stadium, 'Country': datum.country, 'Ticket Price': '$' + datum.avg_ticket_price_usd, 'Capacity': format(datum.capacity, ','), 'Team': datum.home_team}"}
        }
      }
    }
  ]
}